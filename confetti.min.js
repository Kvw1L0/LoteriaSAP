
function confetti() {
    var duration = 3 * 1000;
    var animationEnd = Date.now() + duration;
    var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 1000 };

    function randomInRange(min, max) {
      return Math.random() * (max - min) + min;
    }

    var interval = setInterval(function() {
      var timeLeft = animationEnd - Date.now();

      if (timeLeft <= 0) {
        return clearInterval(interval);
      }

      var particleCount = 50 * (timeLeft / duration);
      confettiEffect(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
      confettiEffect(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
    }, 250);
}

function confettiEffect(opts) {
    var colors = ['#007db8', '#00c6ff', '#005b89'];
    for (let i = 0; i < opts.particleCount; i++) {
        const div = document.createElement('div');
        div.style.position = 'fixed';
        div.style.top = '0px';
        div.style.left = `${Math.random() * 100}%`;
        div.style.width = '10px';
        div.style.height = '10px';
        div.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        div.style.opacity = '0.8';
        div.style.zIndex = opts.zIndex || 1000;
        div.style.borderRadius = '50%';
        div.style.animation = 'fall 2s linear forwards';
        document.body.appendChild(div);
        setTimeout(() => div.remove(), 2000);
    }
}
